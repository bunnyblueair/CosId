(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{308:function(t,e,a){"use strict";a.r(e);var s=a(3),v=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"segmentid-配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#segmentid-配置"}},[t._v("#")]),t._v(" SegmentId 配置")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("enabled")]),t._v(" "),e("td",[e("code",[t._v("boolean")])]),t._v(" "),e("td",[t._v("是否启用")]),t._v(" "),e("td",[e("code",[t._v("false")])])]),t._v(" "),e("tr",[e("td",[t._v("mode")]),t._v(" "),e("td",[e("code",[t._v("Mode")])]),t._v(" "),e("td",[t._v("号段生成器模式："),e("code",[t._v("DEFAULT")]),t._v("/ "),e("code",[t._v("CHAIN")])]),t._v(" "),e("td",[e("code",[t._v("CHAIN")])])]),t._v(" "),e("tr",[e("td",[t._v("ttl")]),t._v(" "),e("td",[e("code",[t._v("long")])]),t._v(" "),e("td",[t._v("号段的生存期（秒）")]),t._v(" "),e("td",[e("code",[t._v("TIME_TO_LIVE_FOREVER")])])]),t._v(" "),e("tr",[e("td",[t._v("distributor")]),t._v(" "),e("td",[e("code",[t._v("Distributor")])]),t._v(" "),e("td",[t._v("号段分发器")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("chain")]),t._v(" "),e("td",[e("code",[t._v("Chain")])]),t._v(" "),e("td",[t._v("号段链模式配置")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("share")]),t._v(" "),e("td",[e("code",[t._v("IdDefinition")])]),t._v(" "),e("td",[t._v("共享ID生成器配置")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("provider")]),t._v(" "),e("td",[e("code",[t._v("Map<String, IdDefinition>")])]),t._v(" "),e("td",[t._v("多ID生成器配置")]),t._v(" "),e("td")])])]),t._v(" "),e("h2",{attrs:{id:"distributor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#distributor"}},[t._v("#")]),t._v(" Distributor")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.Distributor")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("type")]),t._v(" "),e("td",[e("code",[t._v("Distributor.Type")])]),t._v(" "),e("td",[t._v("号段分发器类型： "),e("code",[t._v("REDIS")]),t._v("/"),e("code",[t._v("JDBC")]),t._v("/"),e("code",[t._v("ZOOKEEPER")])]),t._v(" "),e("td",[e("code",[t._v("Type.REDIS")])])]),t._v(" "),e("tr",[e("td",[t._v("jdbc")]),t._v(" "),e("td",[e("code",[t._v("Distributor.Jdbc")])]),t._v(" "),e("td",[t._v("Jdbc号段生成器配置")]),t._v(" "),e("td")])])]),t._v(" "),e("h3",{attrs:{id:"distributor-jdbc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#distributor-jdbc"}},[t._v("#")]),t._v(" Distributor.Jdbc")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("enable-auto-init-cosid-table")]),t._v(" "),e("td",[e("code",[t._v("boolean")])]),t._v(" "),e("td",[t._v("自动创建号段"),e("code",[t._v("cosid")]),t._v("表")]),t._v(" "),e("td",[e("code",[t._v("false")])])]),t._v(" "),e("tr",[e("td",[t._v("enable-auto-init-id-segment")]),t._v(" "),e("td",[e("code",[t._v("boolean")])]),t._v(" "),e("td",[t._v("自动创建号段行")]),t._v(" "),e("td",[e("code",[t._v("true")])])])])]),t._v(" "),e("h2",{attrs:{id:"chain"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chain"}},[t._v("#")]),t._v(" Chain")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.Chain")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("safe-distance")]),t._v(" "),e("td",[e("code",[t._v("int")])]),t._v(" "),e("td",[t._v("安全距离")]),t._v(" "),e("td",[e("code",[t._v("10")])])]),t._v(" "),e("tr",[e("td",[t._v("prefetch-worker")]),t._v(" "),e("td",[e("code",[t._v("Chain.PrefetchWorker")])]),t._v(" "),e("td",[t._v("号段预取工作者线程池")]),t._v(" "),e("td",[e("code",[t._v("true")])])])])]),t._v(" "),e("h3",{attrs:{id:"chain-prefetchworker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chain-prefetchworker"}},[t._v("#")]),t._v(" Chain.PrefetchWorker")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("prefetch-period")]),t._v(" "),e("td",[e("code",[t._v("Duration")])]),t._v(" "),e("td",[t._v("预取周期")]),t._v(" "),e("td",[e("code",[t._v("Duration.ofSeconds(1)")])])]),t._v(" "),e("tr",[e("td",[t._v("core-pool-size")]),t._v(" "),e("td",[e("code",[t._v("int")])]),t._v(" "),e("td",[t._v("线程池大小")]),t._v(" "),e("td",[e("code",[t._v("Runtime.getRuntime().availableProcessors()")])])])])]),t._v(" "),e("h2",{attrs:{id:"iddefinition"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iddefinition"}},[t._v("#")]),t._v(" IdDefinition")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("me.ahoo.cosid.spring.boot.starter.segment.SegmentIdProperties.IdDefinition")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("数据类型")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("mode")]),t._v(" "),e("td",[e("code",[t._v("Mode")])]),t._v(" "),e("td",[t._v("号段生成器模式："),e("code",[t._v("DEFAULT")]),t._v("/ "),e("code",[t._v("CHAIN")])]),t._v(" "),e("td",[e("code",[t._v("cosid.segment.mode")])])]),t._v(" "),e("tr",[e("td",[t._v("offset")]),t._v(" "),e("td",[e("code",[t._v("int")])]),t._v(" "),e("td",[t._v("号段初始偏移量")]),t._v(" "),e("td",[e("code",[t._v("0")])])]),t._v(" "),e("tr",[e("td",[t._v("step")]),t._v(" "),e("td",[e("code",[t._v("long")])]),t._v(" "),e("td",[t._v("步长")]),t._v(" "),e("td",[t._v("100")])]),t._v(" "),e("tr",[e("td",[t._v("ttl")]),t._v(" "),e("td",[e("code",[t._v("long")])]),t._v(" "),e("td",[t._v("号段的生存期（秒）")]),t._v(" "),e("td",[e("code",[t._v("cosid.segment.ttl")])])]),t._v(" "),e("tr",[e("td",[t._v("chain")]),t._v(" "),e("td",[e("code",[t._v("Chain")])]),t._v(" "),e("td",[t._v("号段链模式配置")]),t._v(" "),e("td",[e("code",[t._v("cosid.segment.chain")])])]),t._v(" "),e("tr",[e("td",[t._v("converter")]),t._v(" "),e("td",[e("code",[t._v("IdConverterDefinition")])]),t._v(" "),e("td",[t._v("Id转换器配置")]),t._v(" "),e("td")])])]),t._v(" "),e("p",[e("strong",[t._v("YAML 配置样例")])]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cosid")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("namespace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("spring.application.name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("segment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" chain\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("chain")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("safe-distance")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefetch-worker")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("core-pool-size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefetch-period")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("distributor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" redis\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("share")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("offset")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("step")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("converter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("prefix")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cosid_\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" radix\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("radix")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("char-size")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pad-start")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("provider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("order")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("offset")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("step")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=v.exports}}]);